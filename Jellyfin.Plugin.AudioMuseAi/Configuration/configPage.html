<!DOCTYPE html>
<html ng-app="Emby">
<head>
  <meta charset="utf-8" />
  <title>AudioMuse AI Plugin Configuration</title>
</head>
<body>
  <div ng-controller="AudioMuseAiConfigCtrl as vm">
    <h2>AudioMuse AI Settings</h2>

    <div class="form-group">
      <label for="BackendUrl">AudioMuse Backend URL</label>
      <input
        id="BackendUrl"
        name="BackendUrl"
        type="url"
        class="form-control"
        ng-model="vm.model.BackendUrl"
        placeholder="http://127.0.0.1:5000"
      />
      <small class="form-text text-muted">
        Enter the full base URL of your AudioMuse AI backend (include http:// or https://).
      </small>
    </div>

    <button type="button" class="btn btn-primary" ng-click="vm.save()">
      Save Settings
    </button>
  </div>

  <script>
    (function() {
      angular.module('Emby')
        .controller('AudioMuseAiConfigCtrl', function(serverConfigService) {
          var vm = this;
          // Load existing config or initialize
          vm.model = serverConfigService.pluginConfig('AudioMuseAi') || {};

          // Save handler
          vm.save = function() {
            serverConfigService.savePluginConfig('AudioMuseAi', vm.model)
              .then(function(result) {
                Dashboard.processPluginConfigurationUpdateResult(result);
              });
          };
        });
    })();
  </script>
</body>
</html>
